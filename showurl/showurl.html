<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Reine Print</title>
</head>

<body>
    <p>扫描二维码或访问地址打印，请确保设备处于同一局域网</p>
    <H3>QRCP服务</H3>
    <div id="qrcode"></div>
    <H3 id="ip"></H3>
    <H3>filebrowser服务</H3>
    <div id="qrcode2"></div>
    <H3 id="ip2"></H3>
    <script>
        var address = false;
        var localip;
        function setIP(ip) {
            localip = ip;
        }
    </script>
    <script src="ip.js"></script>
    <script src="qrcode.min.js"></script>
    <script type="text/javascript">
        if (!localip) {
            document.body.innerHTML = "读取IP失败"
        } else {
            address = "http://" + localip + ":9980/receive/printer"
            document.getElementById("ip").innerText = address
            var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: address,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            address = "http://" + localip + ":8080"
            document.getElementById("ip2").innerText = address
            var qrcode = new QRCode(document.getElementById("qrcode2"), {
                text: address,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }
    </script>
</body>

</html>